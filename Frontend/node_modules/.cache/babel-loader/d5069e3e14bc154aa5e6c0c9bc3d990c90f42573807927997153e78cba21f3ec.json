{"ast":null,"code":"var _jsxFileName = \"/Users/hussamkhan/Desktop/AI-Travel-App/Frontend/src/LoadMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoadMap() {\n  _s();\n  const containerStyle = {\n    width: '100%',\n    height: '800px'\n  };\n  const defaultCentre = {\n    lat: 51.5074456,\n    lng: -0.1277653\n  };\n  const [location, setLocation] = useState('');\n  const [markers, setMarkers] = useState([]);\n  const [mapCenter, setMapCenter] = useState(defaultCentre);\n  const mapRef = useRef(null);\n  const newLocation = e => {\n    setLocation(e.target.value);\n  };\n  const submitForm = async e => {\n    e.preventDefault();\n    try {\n      // 1. Geocode the user-entered location\n      const geocodeRes = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(location)}&key=AIzaSyBcMsINbIrAZ_gChuZvQ_6SWD2hdFowrWc`);\n      const geocodeData = await geocodeRes.json();\n      if (geocodeData.results.length === 0) {\n        alert('Location not found.');\n        return;\n      }\n      const coords = geocodeData.results[0].geometry.location;\n      setMapCenter(coords);\n\n      // 2. Fetch tourist attractions near the location\n      const placesRes = await fetch(`https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${coords.lat},${coords.lng}&radius=5000&type=tourist_attraction&key=AIzaSyBcMsINbIrAZ_gChuZvQ_6SWD2hdFowrWc`);\n      const placesData = await placesRes.json();\n      if (placesData.results) {\n        const newMarkers = placesData.results.map(place => ({\n          lat: place.geometry.location.lat,\n          lng: place.geometry.location.lng,\n          name: place.name\n        }));\n        setMarkers(newMarkers);\n      }\n    } catch (error) {\n      console.error('Error fetching data: ', error);\n      alert('Something went wrong while searching. Try again later.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Find Activities\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitForm,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"location\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter your Location\",\n          value: location,\n          onChange: newLocation,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit-button\",\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: \"AIzaSyBcMsINbIrAZ_gChuZvQ_6SWD2hdFowrWc\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: containerStyle,\n        center: mapCenter,\n        zoom: 13,\n        onLoad: map => mapRef.current = map,\n        children: markers.map((marker, index) => /*#__PURE__*/_jsxDEV(Marker, {\n          position: {\n            lat: marker.lat,\n            lng: marker.lng\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(LoadMap, \"8Ukj4d2MKo9sAE34aBGBWYABJlU=\");\n_c = LoadMap;\nexport default LoadMap;\nvar _c;\n$RefreshReg$(_c, \"LoadMap\");","map":{"version":3,"names":["React","useState","useRef","GoogleMap","LoadScript","Marker","jsxDEV","_jsxDEV","LoadMap","_s","containerStyle","width","height","defaultCentre","lat","lng","location","setLocation","markers","setMarkers","mapCenter","setMapCenter","mapRef","newLocation","e","target","value","submitForm","preventDefault","geocodeRes","fetch","encodeURIComponent","geocodeData","json","results","length","alert","coords","geometry","placesRes","placesData","newMarkers","map","place","name","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","googleMapsApiKey","mapContainerStyle","center","zoom","onLoad","current","marker","index","position","_c","$RefreshReg$"],"sources":["/Users/hussamkhan/Desktop/AI-Travel-App/Frontend/src/LoadMap.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\n\nfunction LoadMap() {\n  const containerStyle = {\n    width: '100%',\n    height: '800px'\n  };\n\n  const defaultCentre = {\n    lat: 51.5074456,\n    lng: -0.1277653\n  };\n\n  const [location, setLocation] = useState('');\n  const [markers, setMarkers] = useState([]);\n  const [mapCenter, setMapCenter] = useState(defaultCentre);\n  const mapRef = useRef(null);\n\n  const newLocation = (e) => {\n    setLocation(e.target.value);\n  };\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n\n    try {\n      // 1. Geocode the user-entered location\n      const geocodeRes = await fetch(\n        `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(location)}&key=AIzaSyBcMsINbIrAZ_gChuZvQ_6SWD2hdFowrWc`\n      );\n      const geocodeData = await geocodeRes.json();\n\n      if (geocodeData.results.length === 0) {\n        alert('Location not found.');\n        return;\n      }\n\n      const coords = geocodeData.results[0].geometry.location;\n      setMapCenter(coords);\n\n      // 2. Fetch tourist attractions near the location\n      const placesRes = await fetch(\n        `https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${coords.lat},${coords.lng}&radius=5000&type=tourist_attraction&key=AIzaSyBcMsINbIrAZ_gChuZvQ_6SWD2hdFowrWc`\n      );\n      const placesData = await placesRes.json();\n\n      if (placesData.results) {\n        const newMarkers = placesData.results.map(place => ({\n          lat: place.geometry.location.lat,\n          lng: place.geometry.location.lng,\n          name: place.name\n        }));\n        setMarkers(newMarkers);\n      }\n    } catch (error) {\n      console.error('Error fetching data: ', error);\n      alert('Something went wrong while searching. Try again later.');\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Find Activities</h1>\n      <form onSubmit={submitForm}>\n        <div className=\"location\">\n          <label>Location:</label>\n          <input\n            type=\"text\"\n            placeholder=\"Enter your Location\"\n            value={location}\n            onChange={newLocation}\n            required\n          />\n          <button className=\"submit-button\" type=\"submit\">\n            Search\n          </button>\n        </div>\n      </form>\n\n      <LoadScript googleMapsApiKey=\"AIzaSyBcMsINbIrAZ_gChuZvQ_6SWD2hdFowrWc\">\n        <GoogleMap\n          mapContainerStyle={containerStyle}\n          center={mapCenter}\n          zoom={13}\n          onLoad={map => (mapRef.current = map)}\n        >\n          {markers.map((marker, index) => (\n            <Marker\n              key={index}\n              position={{ lat: marker.lat, lng: marker.lng }}\n            />\n          ))}\n        </GoogleMap>\n      </LoadScript>\n    </div>\n  );\n}\n\nexport default LoadMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}